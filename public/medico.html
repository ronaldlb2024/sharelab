<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Sharelab — Médico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,sans-serif;margin:16px;max-width:720px}
    h1,h2{margin:.25rem 0}
    pre{background:#f7f7f7;border:1px solid #ddd;border-radius:8px;padding:.6rem;white-space:pre-wrap}
    .row{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
    button,input{padding:.45rem .7rem;border:1px solid #888;border-radius:8px;background:#fff}
    p.muted{font-size:.9em;color:#555}
  </style>
</head>
<body>
  <h1>Receber resultados</h1>

  <div class="row">
    <input id="sessionCodeInput" maxlength="4" placeholder="Código (ex.: 4281)" style="width:10em">
    <button id="connectBtn">Conectar</button>
    <span id="p2pStatus" class="muted"></span>
  </div>

  <div class="row" style="justify-content:space-between;align-items:center;margin-top:12px">
    <h2>Linha clínica</h2>
    <button id="btnCopyProf">Copiar</button>
  </div>
  <pre id="profissional">—</pre>

  <!-- libs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script type="module" src="js/pages/medico.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('btnCopyProf')?.addEventListener('click', () => {
        const txt = document.getElementById('profissional')?.textContent || '';
        navigator.clipboard.writeText(txt).then(()=>alert('Linha clínica copiada.'));
      });
    });
  </script>
</body>
</html>
